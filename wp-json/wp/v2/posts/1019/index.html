{"id":1019,"date":"2022-03-09T11:14:57","date_gmt":"2022-03-09T11:14:57","guid":{"rendered":"http:\/\/localhost\/wordpress\/optimize-fonts-to-speed-up-your-website\/"},"modified":"2022-03-09T11:14:57","modified_gmt":"2022-03-09T11:14:57","slug":"optimize-fonts-to-speed-up-your-website","status":"publish","type":"post","link":"http:\/\/localhost\/wordpress\/optimize-fonts-to-speed-up-your-website\/","title":{"rendered":"Optimize Fonts to Speed Up Your Website"},"content":{"rendered":"<p> <br \/>\n<\/p>\n<div data-article-id=\"1009007\" id=\"article-body\">\n<blockquote>\n<p>One of the main keys of optimizing or speeding up website performance is reducing the total requests and file size in a page. That will include Fonts. \u2013 <a href=\"https:\/\/thinkweb.dev\/\">ThinkWeb<\/a><\/p>\n<\/blockquote>\n<p>Fonts are crucial to our page design. Using different font types can change the whole design character of our web page. Choosing the right font is as important as choosing the right design.<\/p>\n<p>Unfortunately, fonts can make our site slow. Web designers often use multiple fonts just to support the character of their designs. Using multiple fonts means multiple file requests. This can hurt our website performance.<\/p>\n<p>So, to ensure that we&#8217;ll pass the <a href=\"https:\/\/thinkweb.dev\/how-to\/optimize-core-web-vitals\/\">Core Web Vitals<\/a> score, fonts are also important to optimize.<\/p>\n<h2>\n  <a name=\"optimizing-google-fonts\" href=\"#optimizing-google-fonts\"><br \/>\n  <\/a><br \/>\n  Optimizing Google Fonts<br \/>\n<\/h2>\n<p>The most common method that people often use is by embedding fonts from the Google Fonts library. Yes, this is the easiest way for using fonts on our website. But it also has its drawbacks.<\/p>\n<p>Serving fonts from google can actually reduce the speed performance of our website if we&#8217;re not using it carefully and handling it properly.<\/p>\n<p>Why?<\/p>\n<ol>\n<li>There are so many unused bytes in their default CSS (Google Fonts CSS)<\/li>\n<li>The amount of time to make the connections and fetch files from 2 different DNS resources can often make a huge render blocking time, especially if we have a large page size and uses so many assets.<\/li>\n<\/ol>\n<p>Both may cost us warnings on our Core Web Vitals scores.<\/p>\n<p>So, how can we optimize them?<\/p>\n<p><strong>1. Self Host the Google Fonts CSS<\/strong><\/p>\n<p>The default method to embeds font(s) from the Google Fonts library is by using link tag like this one:<\/p>\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>&lt;link href=\"https:\/\/fonts.googleapis.com\/css2?family=Roboto:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap\" rel=\"stylesheet\"&gt;\n<\/code><\/pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode<\/title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\/>\n<\/svg><\/p>\n<p>    <svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode<\/title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\/>\n<\/svg><\/p>\n<\/div>\n<\/div>\n<\/div>\n<p>If we open that url, we will find so many fonts css for multiple language. While all we need usually is just the Latin text only. By self-hosting the fonts css and select the latin fonts only, we can reduce the CSS size significantly.<\/p>\n<p><strong>2. Inline the Google Fonts CSS<\/strong><\/p>\n<p>As fonts are a part of the critical assets, it is best to inline the CSS in the <code>&lt;head&gt;<\/code> section to eliminate the need to fetch the style from the CSS file.<\/p>\n<p>Here&#8217;s an example for Roboto:<\/p>\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>&lt;style&gt;\n@font-face {\n   font-family: 'Roboto';\n   font-style: normal;\n   font-weight: 400;\n   font-display: swap;\n   src: url(https:\/\/fonts.gstatic.com\/s\/roboto\/v20\/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');\n   unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n }\n&lt;\/style&gt;\n<\/code><\/pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode<\/title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\/>\n<\/svg><\/p>\n<p>    <svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode<\/title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\/>\n<\/svg><\/p>\n<\/div>\n<\/div>\n<\/div>\n<p><strong>3. Limit the Font Families<\/strong><\/p>\n<p>The font&#8217;s file size isn&#8217;t small, even if we use the woff2 extension. These are the woff2 file size of the 3 most frequently used Google Fonts.<\/p>\n<p><a href=\"https:\/\/res.cloudinary.com\/practicaldev\/image\/fetch\/s--2uqdR3d5--\/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\/https:\/\/dev-to-uploads.s3.amazonaws.com\/uploads\/articles\/e8kg4gv8flhp50vpygw8.jpg\" class=\"article-body-image-wrapper\"><img src=\"https:\/\/res.cloudinary.com\/practicaldev\/image\/fetch\/s--2uqdR3d5--\/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\/https:\/\/dev-to-uploads.s3.amazonaws.com\/uploads\/articles\/e8kg4gv8flhp50vpygw8.jpg\" alt=\"Fonts file size comparison\" loading=\"lazy\" width=\"880\" height=\"319\"\/><\/a><\/p>\n<p>So, even if we &#8216;only&#8217; use 2 font combinations, the browser must download additional files of at least 20KB (gzipped) with an additional 4 font requests. And it will be more if we use more fonts.<br \/>Remember, all file requests are render-blocking. So we really should try to minimize the number of requests as much as possible.<br \/>Best Practice: Don&#8217;t use more than 2 fonts.<\/p>\n<p><strong>4. Limit the Font Variations<\/strong><\/p>\n<p>In most cases, actually we don&#8217;t need to embed the font files for bold and italic style, especially if we use the Sans-Serif Fonts families. The browser will still tilt and adjust the thickness if there&#8217;s a <code>&lt;strong&gt;<\/code> and <code>&lt;em&gt;<\/code> tag as well as the font-weight: 700, font-weight: bold, and font-style, in the text CSS.<br \/>The results are often quite the same. Or at least, can be tolerated.<\/p>\n<p><a href=\"https:\/\/res.cloudinary.com\/practicaldev\/image\/fetch\/s--wCmq-zE5--\/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\/https:\/\/dev-to-uploads.s3.amazonaws.com\/uploads\/articles\/kb1yll6gttm0qcyce6sd.jpg\" class=\"article-body-image-wrapper\"><img src=\"https:\/\/res.cloudinary.com\/practicaldev\/image\/fetch\/s--wCmq-zE5--\/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\/https:\/\/dev-to-uploads.s3.amazonaws.com\/uploads\/articles\/kb1yll6gttm0qcyce6sd.jpg\" alt=\"Roboto font comparison\" loading=\"lazy\" width=\"880\" height=\"214\"\/><\/a><\/p>\n<p><strong>5. Filter the Characters<\/strong><\/p>\n<p><a href=\"https:\/\/res.cloudinary.com\/practicaldev\/image\/fetch\/s--fSFjM9uv--\/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\/https:\/\/dev-to-uploads.s3.amazonaws.com\/uploads\/articles\/2aw4l1aq3sux2ya85q40.jpg\" class=\"article-body-image-wrapper\"><img src=\"https:\/\/res.cloudinary.com\/practicaldev\/image\/fetch\/s--fSFjM9uv--\/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\/https:\/\/dev-to-uploads.s3.amazonaws.com\/uploads\/articles\/2aw4l1aq3sux2ya85q40.jpg\" alt=\"Roboto font characters\" loading=\"lazy\" width=\"880\" height=\"463\"\/><\/a><\/p>\n<p>The image above shows the types of characters in a regular Roboto font file. We don&#8217;t actually need all of them, right?<br \/>If we only need the latin characters, we can filter the characters that we need from Google Fonts with something like this:<\/p>\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>https:\/\/fonts.googleapis.com\/css2?family=Roboto:wght@400;700&amp;text=1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz@!-_+\/\\|\/?%20&amp;subset=latin&amp;display=swap\n<\/code><\/pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode<\/title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\/>\n<\/svg><\/p>\n<p>    <svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode<\/title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\/>\n<\/svg><\/p>\n<\/div>\n<\/div>\n<\/div>\n<p>*change the font name and the weight to everything that you need.<\/p>\n<p><strong>6. Self Host the Font Files<\/strong><\/p>\n<p>Self hosting our font files will always be faster than using the files served by Google Fonts CDN in terms of performance.<br \/>Here&#8217;s the easiest way to do it:<\/p>\n<ul>\n<li>First, download the font file(s) directly using the font source url in the Google Fonts CSS, or use the <a href=\"https:\/\/google-webfonts-helper.herokuapp.com\/fonts\">Google-WebFonts-Helper<\/a> created by Mario Rantfl.<\/li>\n<li>Then upload the file to our host using FTP or cPanel&#8217;s File Manager.<\/li>\n<li>Finally, call the file via CSS.\n<\/li>\n<\/ul>\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>@font-face {\n   font-family: 'Roboto';\n   font-style: normal;\n   font-weight: 400;\n   font-display: swap;\n   src: url(\/font-url-path\/font-file-name.woff2) format('woff2');\n}\n<\/code><\/pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode<\/title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\/>\n<\/svg><\/p>\n<p>    <svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode<\/title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\/>\n<\/svg><\/p>\n<\/div>\n<\/div>\n<\/div>\n<p><strong>7. Preload the Critical Font Files<\/strong><\/p>\n<p>Preload is useful for asking the browser to fetch the font file(s) right after the browser finish rendering the HTML, before fetching anything else.<br \/>We just need to put this in our <code>&lt;head&gt;<\/code> section.<\/p>\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>\/* Roboto Regular 400 *\/\n&lt;link rel=\"preload\" href=\"https:\/\/fonts.gstatic.com\/s\/roboto\/v20\/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2\" as=\"font\" crossorigin&gt;\n\n\/* Roboto Bold 700 *\/\n&lt;link rel=\"preload\" href=\"https:\/\/fonts.gstatic.com\/s\/roboto\/v20\/KFOlCnqEu92Fr1MmWUlfBBc4AMP6lQ.woff2\" as=\"font\" crossorigin&gt;\n<\/code><\/pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode<\/title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\/>\n<\/svg><\/p>\n<p>    <svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode<\/title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\/>\n<\/svg><\/p>\n<\/div>\n<\/div>\n<\/div>\n<p>It should helps us avoid FOIT (Flash of Invisible Text), FOUT (Flash of Unstyled Text), and additional CLS (Cumulative Layout Shift).<\/p>\n<p><strong>BONUS: Convert the Font File to Base64<\/strong><\/p>\n<p>We can eliminate the need to fetch the font files by converting them into Base64 encoded string.<br \/>Just upload the files to Base64 online converters like <a href=\"https:\/\/www.giftofspeed.com\/base64-encoder\/\">Gift Of Speed<\/a>, then copy and paste the base64 encoded string as the font&#8217;s url source. The CSS code should be like this:<\/p>\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>@font-face {\n   font-family: 'Roboto';\n   font-style: normal;\n   font-weight: 400;\n   font-display: swap;\n   src: url(data:font\/woff2;base64,OUR-FONT-BASE64-CODES;\n }\n<\/code><\/pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode<\/title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\/>\n<\/svg><\/p>\n<p>    <svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode<\/title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\/>\n<\/svg><\/p>\n<\/div>\n<\/div>\n<\/div>\n<p>*<em>Important: A base64 encoded font string size are larger than the font file size itself. So it will be best to have it filtered first.<\/em><\/p>\n<p>Hope this helps. You can read the original article <a href=\"https:\/\/thinkweb.dev\/how-to\/optimize-fonts\/\">here<\/a>.<\/p>\n<\/p><\/div>\n\n","protected":false},"excerpt":{"rendered":"<p>One of the main keys of optimizing or speeding up website performance is reducing the total requests and file size in a page. That will include Fonts. \u2013 ThinkWeb Fonts are crucial to our page design. Using different font types can change the whole design character of our web page. Choosing the right font is &hellip;<\/p>\n<p class=\"read-more\"> <a class=\"\" href=\"http:\/\/localhost\/wordpress\/optimize-fonts-to-speed-up-your-website\/\"> <span class=\"screen-reader-text\">Optimize Fonts to Speed Up Your Website<\/span> Read More &raquo;<\/a><\/p>\n","protected":false},"author":1,"featured_media":1020,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"site-sidebar-layout":"default","site-content-layout":"default","ast-main-header-display":"","ast-hfb-above-header-display":"","ast-hfb-below-header-display":"","ast-hfb-mobile-header-display":"","site-post-title":"","ast-breadcrumbs-content":"","ast-featured-img":"","footer-sml-layout":"","theme-transparent-header-meta":"","adv-header-id-meta":"","stick-header-meta":"","header-above-stick-meta":"","header-main-stick-meta":"","header-below-stick-meta":""},"categories":[1],"tags":[],"_links":{"self":[{"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/posts\/1019"}],"collection":[{"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/comments?post=1019"}],"version-history":[{"count":0,"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/posts\/1019\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/media\/1020"}],"wp:attachment":[{"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/media?parent=1019"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/categories?post=1019"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/tags?post=1019"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}