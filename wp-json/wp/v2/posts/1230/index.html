{"id":1230,"date":"2022-03-09T17:24:36","date_gmt":"2022-03-09T17:24:36","guid":{"rendered":"http:\/\/localhost\/wordpress\/how-to-detect-mobile-browsers-with-javascript\/"},"modified":"2022-03-09T17:24:36","modified_gmt":"2022-03-09T17:24:36","slug":"how-to-detect-mobile-browsers-with-javascript","status":"publish","type":"post","link":"http:\/\/localhost\/wordpress\/how-to-detect-mobile-browsers-with-javascript\/","title":{"rendered":"How to Detect Mobile Browsers with JavaScript"},"content":{"rendered":"<p> <br \/>\n<\/p>\n<div data-article-id=\"1017547\" id=\"article-body\">\n<p>Mobile detection has always been a crucial aspect of app development. It is relevant both for apps, but also software and websites. There are countless reasons to check for mobile browser agents. Most importantly, the ability to render a unique user experience.<\/p>\n<p>The\u00a0UAParser.js\u00a0library alone gets millions of weekly package downloads. And, in most cases, it is enough if you\u2019re building something from scratch. But, what about alternative ways to detect mobile browsers with JavaScript?<\/p>\n<p>Sometimes you might just want a simple solution that does the job without any libraries. And in this article, I am gonna lay out for you a handful of JavaScript techniques for detecting mobile users. Let me know if I missed any!<\/p>\n<h2>\n  <a name=\"navigatoruseragent\" href=\"#navigatoruseragent\"><br \/>\n  <\/a><br \/>\n  navigator.userAgent<br \/>\n<\/h2>\n<p>The holy grain of browser detection is the\u00a0<a href=\"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/Navigator\/userAgent\">navigator.UserAgent<\/a>\u00a0property.<\/p>\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>if (\/Android|iPhone\/i.test(navigator.userAgent)) {\n  \/\/ This checks if the current device is in fact mobile\n}\n\n\/\/ an alternative structure to check individual matches\nif (\n  navigator.userAgent.match(\/Android\/i) ||\n  navigator.userAgent.match(\/iPhone\/i)\n) {\n  \/\/ making individual checks\n}\n<\/code><\/pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode<\/title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\/>\n<\/svg><\/p>\n<p>    <svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode<\/title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\/>\n<\/svg><\/p>\n<\/div>\n<\/div>\n<\/div>\n<p>This is, of course, a very primitive way of doing it. It can easily be manipulated as the User-Agent property can be spoofed. But, because it does the job you can still use it in a variety of projects.<\/p>\n<p>E.g. Landing pages or making a custom redirect to a mobile version.<\/p>\n<h2>\n  <a name=\"touchevent\" href=\"#touchevent\"><br \/>\n  <\/a><br \/>\n  TouchEvent<br \/>\n<\/h2>\n<p>One method to detect mobile users is to check if the device has a touch screen.<\/p>\n<p>Using the\u00a0<a href=\"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/GlobalEventHandlers\/ontouchstart#browser_compatibility\">GlobalEventHandlers.ontouchstart<\/a>\u00a0property you can make a simple check to see how the user interacted with your app. If the interaction came from a touch screen, you can then return a mobile version of the app or page.<\/p>\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>if (\"ontouchstart\" in document.documentElement)\n{\n  \/\/ content for touch-screen (mobile) devices\n}\nelse\n{\n  \/\/ everything else (desktop)\n}\n<\/code><\/pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode<\/title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\/>\n<\/svg><\/p>\n<p>    <svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode<\/title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\/>\n<\/svg><\/p>\n<\/div>\n<\/div>\n<\/div>\n<p>Touch-screen devices like Surface do not have this property. So, users coming from desktop-based touch devices will still see the desktop version of your pages.<\/p>\n<h2>\n  <a name=\"windowmatchmedia\" href=\"#windowmatchmedia\"><br \/>\n  <\/a><br \/>\n  Window.matchMedia()<br \/>\n<\/h2>\n<p>The <a href=\"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/Window\/matchMedia\">Window.matchMedia()<\/a>\u00a0is one of the best properties for detecting mobile users with JavaScript. And it is so because it lets you interact with CSS directly.<\/p>\n<p>In a lot of cases,\u00a0media queries\u00a0are superior because they have built-in mobile detection tools. For example, you can make a call to check if\u00a0\u201cpointer:coarse\u201d\u00a0is true.<\/p>\n<p>This specific statement validates whether the device\u2019s pointer is\u00a0fine\u00a0or\u00a0coarse.<\/p>\n<p><code>let isMobile = window.matchMedia(\"(pointer:coarse)\").matches;<\/code><\/p>\n<p>Alternatively, the device might have both a fine and coarse pointer. For this use case, we can check if\u00a0any\u00a0pointers are coarse.<\/p>\n<p><code>let isMobile = window.matchMedia(\"(any-pointer:coarse)\").matches;<\/code><\/p>\n<p>Keep in mind that this only validates the query as true or false. A more refined way to check for mobile devices is to use media queries directly.<\/p>\n<p><code>let isMobile = window.matchMedia(\"only screen and (max-width: 480px)\").matches;<\/code><\/p>\n<p>This query will directly check the max-width of the device and assert whether it matches the criteria. Again, this is quite a lot of work for getting all devices correctly. As such, it\u2019s easier to use a pre-built library with all the devices types already defined.<\/p>\n<h2>\n  <a name=\"libraries-for-detecting-mobile-devices\" href=\"#libraries-for-detecting-mobile-devices\"><br \/>\n  <\/a><br \/>\n  Libraries for Detecting Mobile Devices<br \/>\n<\/h2>\n<p>For this section, I\u2019m going to list the most popular JavaScript libraries for detecting mobile devices. Again, I emphasize that these are specific to JavaScript. Refer to the docs for proper implementation in your app.<\/p>\n<hr\/>\n<h2>\n  <a name=\"uaparserjs\" href=\"#uaparserjs\"><br \/>\n  <\/a><br \/>\n  UAParser.js<br \/>\n<\/h2>\n<p>As far as complete libraries go, UAParser is the best there is. With more than 10 million weekly downloads on\u00a0<a href=\"https:\/\/www.npmjs.com\/package\/ua-parser-js\">npm<\/a>\u00a0alone \u2013 UAParser is the defacto solution for detecting mobile devices. As the name gives it away \u2013 the library works by parsing User-Agent strings.<\/p>\n<p>However, what makes it so popular is the fact that you can parse hundreds of device variations. And, all of it is very well documented. You can go from practical device vendors to more intricate detection patterns like CPU architecture.<\/p>\n<p><a href=\"https:\/\/github.com\/faisalman\/ua-parser-js\">GitHub<\/a>\u00a0<a href=\"https:\/\/github.com\/faisalman\/ua-parser-js\/blob\/master\/readme.md\">Documentation<\/a><\/p>\n<h2>\n  <a name=\"mobiledetectjs\" href=\"#mobiledetectjs\"><br \/>\n  <\/a><br \/>\n  mobile-detect.js<br \/>\n<\/h2>\n<p>This is a fairly straightforward port of the Mobile Detect library for PHP, provided to the community by Heinrich Goebl. The library itself uses User-Agent for detection, so like we discussed earlier \u2013 not the best option.<\/p>\n<p>Still, it should do the job when it comes to practical HTML templates or portfolio projects.<\/p>\n<p><a href=\"https:\/\/github.com\/hgoebl\/mobile-detect.js\">GitHub<\/a>\u00a0<a href=\"https:\/\/github.com\/hgoebl\/mobile-detect.js\/blob\/master\/README.md\">Documentation<\/a><\/p>\n<h2>\n  <a name=\"ismobile\" href=\"#ismobile\"><br \/>\n  <\/a><br \/>\n  isMobile<br \/>\n<\/h2>\n<p>Here we have another take on the User-Agent Navigator property from Kai Mallea. While still a simplistic solution, I like that isMobile provides a variety of specifications. For example, you can test for\u00a0any\u00a0mobile devices or specific ones like\u00a0phone\u00a0or\u00a0tablet.<\/p>\n<p><a href=\"https:\/\/github.com\/kaimallea\/isMobile\">GitHub<\/a>\u00a0<a href=\"https:\/\/github.com\/kaimallea\/isMobile\/blob\/master\/README.md\">Documentation<\/a><\/p>\n<h2>\n  <a name=\"reactdevicedetect\" href=\"#reactdevicedetect\"><br \/>\n  <\/a><br \/>\n  react-device-detect<br \/>\n<\/h2>\n<p>Are you a <a href=\"https:\/\/stackdiary.com\/react-component-libraries\/\">React.js<\/a>\u00a0developer?<\/p>\n<p>Then this library from Michael Laktionov is for you. It works as you would expect \u2013 first the library detects device type, then renders the view based on that type. Works flawlessly with component integration, and can be further customized through API calls.<\/p>\n<p>One interesting fact is the number of selectors this library includes. It covers devices like smart TVs, wearables, a variety of iPhone devices, and much more. This gives you a broad selection of design choices when building an app for a specific device.<\/p>\n<p><a href=\"https:\/\/github.com\/duskload\/react-device-detect\">GitHub<\/a>\u00a0<a href=\"https:\/\/github.com\/duskload\/react-device-detect\/blob\/master\/README.md\">Documentation<\/a><\/p>\n<\/p><\/div>\n\n","protected":false},"excerpt":{"rendered":"<p>Mobile detection has always been a crucial aspect of app development. It is relevant both for apps, but also software and websites. There are countless reasons to check for mobile browser agents. Most importantly, the ability to render a unique user experience. The\u00a0UAParser.js\u00a0library alone gets millions of weekly package downloads. And, in most cases, it &hellip;<\/p>\n<p class=\"read-more\"> <a class=\"\" href=\"http:\/\/localhost\/wordpress\/how-to-detect-mobile-browsers-with-javascript\/\"> <span class=\"screen-reader-text\">How to Detect Mobile Browsers with JavaScript<\/span> Read More &raquo;<\/a><\/p>\n","protected":false},"author":1,"featured_media":1231,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"site-sidebar-layout":"default","site-content-layout":"default","ast-main-header-display":"","ast-hfb-above-header-display":"","ast-hfb-below-header-display":"","ast-hfb-mobile-header-display":"","site-post-title":"","ast-breadcrumbs-content":"","ast-featured-img":"","footer-sml-layout":"","theme-transparent-header-meta":"","adv-header-id-meta":"","stick-header-meta":"","header-above-stick-meta":"","header-main-stick-meta":"","header-below-stick-meta":""},"categories":[1],"tags":[],"_links":{"self":[{"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/posts\/1230"}],"collection":[{"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/comments?post=1230"}],"version-history":[{"count":0,"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/posts\/1230\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/media\/1231"}],"wp:attachment":[{"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/media?parent=1230"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/categories?post=1230"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/localhost\/wordpress\/wp-json\/wp\/v2\/tags?post=1230"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}